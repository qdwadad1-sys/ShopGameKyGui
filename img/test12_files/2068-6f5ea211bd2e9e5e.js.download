"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2068],{10634:function(e,t,l){l.d(t,{Z:function(){return m},O:function(){return f}});var n=l(27573),i=l(1839),a=l(61288),s=l(11628),r=e=>(0,n.jsx)("svg",{fill:e.color||"white",width:"31",height:"32",viewBox:"0 0 31 32",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{d:"M8.79653 27.3591C7.19421 28.1467 6.14342 27.4328 6.44904 25.7651L7.73476 18.7576L2.28878 13.7951C0.992457 12.6138 1.39386 11.4592 3.18509 11.2159L10.7118 10.1932L14.0778 3.81788C14.8789 2.30029 16.1778 2.30029 16.979 3.81788L20.3447 10.1932L27.8714 11.2159C29.6628 11.4593 30.0641 12.6139 28.768 13.7951L23.322 18.7578L24.608 25.7653C24.9138 27.433 23.8629 28.1466 22.2606 27.3593L15.5286 24.0508L8.79653 27.3591Z"})}),o=l(71132),c=l(77868),d=l(97189),u=l(17280),h=l(57266),p=l(6928),x=l(5915),g=l(7653);function f(e){return"".concat(e).concat(Math.random().toString(36).substring(2,11))}var m=e=>{var t;let{gif:l,isHovered:f,width:m,channel:v}=e,{setGifs:j}=(0,g.useContext)(d._p),{showMessage:C}=(0,g.useContext)(h.B),[y,b]=(0,g.useState)(!1),w=(0,i.I)(),{user:N}=(0,g.useContext)(p.Z);if(!(N&&(N.is_staff||N.username===v.user.username)))return(0,n.jsx)(u.default,{gif:l,isHovered:f});let k=(null===(t=v.featured_gif)||void 0===t?void 0:t.id)===l.id;return(0,n.jsxs)(n.Fragment,{children:[l.is_hidden&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex select-none items-center justify-center",children:(0,n.jsx)(s.Z,{className:"fill-giphyRed size-10"})}),f&&(0,n.jsxs)("div",{className:"bg-giphyBlack/10 absolute left-2.5 top-2.5 flex items-center gap-3 rounded-md p-2",children:[(0,n.jsx)(a.Z,{label:"Remove from Channel",children:(0,n.jsx)(o.Z,{className:"hover:fill-giphyRed block size-5 cursor-pointer",onClick:async e=>{function t(){C({message:"There was an error removing the gif",type:"error"}),b(!1)}b(!0),e.preventDefault(),e.stopPropagation();try{(await (0,c.YZ)([l.id],v.id)).ok?j(e=>e.filter(e=>e.id!==l.id)):t()}catch(e){t()}}})}),(0,n.jsx)(a.Z,{label:k?"Click another GIF to change the cover GIF":"Make Cover GIF",children:(0,n.jsx)(r,{onClick:async e=>{e.preventDefault(),e.stopPropagation();try{await (0,c.AK)(v.id,{id:v.id,parent:v.parent,featured_gif:l.id.toString()}),w({...v,featured_gif:l})}catch(e){C({message:"There was an error making the gif cover",type:"error"})}},className:(0,x.cn)("hover:fill-giphyYellow block size-5 cursor-pointer",k&&"fill-giphyRed hover:fill-giphyRed cursor-default")})})]}),(0,n.jsx)(u.default,{gif:l,isHovered:f,width:m}),(0,n.jsx)("div",{className:(0,x.cn)(y&&"bg-giphyBlack/40 pointer-events-none absolute inset-0")})]})}},75050:function(e,t,l){l.d(t,{D:function(){return p}});var n=l(27573),i=l(75279),a=l(97189),s=l(82544),r=l(26300),o=l.n(r),c=l(5915),d=l(81899),u=l(7653),h=l(60486);let p=e=>{let{gif:t}=e,{position:l}=(0,i.o5)(t.id),r=(0,s.zZ)(t.id),p=(0,s.CA)(r),{gifs:x}=(0,u.useContext)(a._p),[g]=(0,h.Z)("Alt");return p?(0,n.jsx)("div",{className:"bg-giphyBlack/60 absolute inset-0 flex items-center justify-center text-2xl text-white ".concat(o().className),children:"DELETED"}):g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute inset-0 grid place-items-center",children:(0,n.jsx)("div",{className:"drop-shadow-text-shadow text-3xl font-bold uppercase",children:t.rating})}),(0,n.jsx)(d.AttributionOverlay,{gif:t,isHovered:!0})]}):l>0?(0,n.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),(0,i.WR)(t.id)},className:(0,c.cn)("border-giphyIndigo absolute inset-0 box-border border-[6px] border-solid ".concat(o().className)),children:l&&(0,n.jsx)("div",{className:"bg-giphyYellow absolute right-[-6px] top-[-6px] flex size-9 items-center justify-center text-lg font-extrabold text-black",children:l})}):(0,n.jsx)("div",{className:"absolute inset-0 cursor-pointer",onClick:async e=>{e.preventDefault(),e.stopPropagation();let l=x.findIndex(e=>e.id===t.id);if(e.shiftKey){let[e,t]=(0,i.pl)(l);for(let l=e;l<=t;l++){let e=x[l];(0,i.rC)(e,l)}}else(0,i.rC)(t,l)}})};t.Z=e=>{let{count:t=0}=e;return t>0?(0,n.jsx)("div",{className:(0,c.cn)("border-giphyIndigo absolute inset-0 box-border border-[6px] border-solid ".concat(o().className)),children:t&&(0,n.jsx)("div",{className:"bg-giphyYellow absolute right-[-6px] top-[-6px] flex size-9 items-center justify-center text-lg font-extrabold text-black",children:t})}):null}},96996:function(e,t,l){l.d(t,{jz:function(){return p},mm:function(){return x}});var n=l(27573),i=l(47375),a=l(60810),s=l(6928),r=l(26300),o=l.n(r),c=l(5915),d=l(7653),u=l(57501),h=l(74158);let p=e=>{let{}=e;return(0,n.jsxs)("div",{className:"hidden flex-1 flex-col items-center justify-center md:flex",children:[(0,n.jsx)("img",{src:"https://media0.giphy.com/media/ViHbdDMcIOeLeblrbq/200w.webp",alt:"",width:90,height:90}),(0,n.jsx)("h1",{className:"".concat(o().className),children:"There's nothing here yet"}),(0,n.jsxs)("p",{className:"my-2",children:["Add Gifs to a Collection by clicking the"," ",(0,n.jsx)(i.Z,{className:"mx-1 inline-block size-3 [--stop-color-1:var(--giphy-yellow)] [--stop-color-2:var(--giphy-red)]"})," ","icon on a Gif page."]}),(0,n.jsx)("div",{children:"At the moment, you can only add your own content to Collections."})]})},x=e=>{let{}=e;return(0,n.jsxs)("div",{className:"hidden w-full flex-1 flex-col items-center justify-center gap-4 md:flex",children:[(0,n.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M75 149C115.869 149 149 115.869 149 75C149 34.1309 115.869 1 75 1C34.1309 1 1 34.1309 1 75C1 115.869 34.1309 149 75 149Z",fill:"url(#paint0_radial_3443_67111)",stroke:"url(#paint1_linear_3443_67111)",strokeWidth:"2"}),(0,n.jsx)("mask",{id:"mask0_3443_67111",maskUnits:"userSpaceOnUse",x:"57",y:"57",width:"36",height:"36",children:(0,n.jsx)("path",{d:"M78.25 71.75V59.4H71.75V71.75H59.4V78.25H71.75V90.6H78.25V78.25H90.6V71.75H78.25ZM93 69.35V80.65H80.65V93H69.35V80.65H57V69.35H69.35V57H80.65V69.35H93Z",fill:"white"})}),(0,n.jsx)("g",{mask:"url(#mask0_3443_67111)",children:(0,n.jsx)("path",{d:"M78.25 71.75V59.4H71.75V71.75H59.4V78.25H71.75V90.6H78.25V78.25H90.6V71.75H78.25ZM93 69.35V80.65H80.65V93H69.35V80.65H57V69.35H69.35V57H80.65V69.35H93Z",fill:"url(#paint2_linear_3443_67111)"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("radialGradient",{id:"paint0_radial_3443_67111",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-70.1299 75) rotate(90) scale(73.4141 71.5462)",children:[(0,n.jsx)("stop",{}),(0,n.jsx)("stop",{offset:"0.405749"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#002013"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_3443_67111",x1:"20.237",y1:"120.908",x2:"149",y2:"-5.68561",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#00FF99"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#00CCFF"})]}),(0,n.jsxs)("linearGradient",{id:"paint2_linear_3443_67111",x1:"51.9581",y1:"97.3667",x2:"93",y2:"57",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#00CCFF"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#00FF99"})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)("h1",{className:"".concat(o().className),children:"There's nothing here yet"}),(0,n.jsx)("p",{className:"text-center",children:"Create your first GIF to get started!"}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(a.default,{href:"/upload",isExternal:!0,className:"bg-gradient-grey px-6",children:"Upload"}),(0,n.jsx)(a.default,{href:"/create",isExternal:!0,className:"bg-gradient-grey px-6",children:"Create"})]})]})]})};t.ZP=e=>{let{className:t,channel:l,hideLabel:a}=e,{user:r}=(0,d.useContext)(s.Z);return r&&(r.is_staff||r.username===l.user.username)?(0,n.jsxs)(u.ClickToShowModal,{modal:{name:"addGifsToCollection",channel:l,channelId:l.id},className:(0,c.cn)(h.q8,"hover:border-giphyLightCharcoal basis-full","hidden items-center justify-center md:flex",t),children:[(0,n.jsx)(i.Z,{className:(0,c.cn)("size-5",a&&"size-8")}),!a&&(0,n.jsx)(h.hu,{label:"Add to ".concat(null==l?void 0:l.display_name)})]}):null}},1839:function(e,t,l){l.d(t,{I:function(){return s}});var n=l(53501),i=l(48620),a=l(54944);function s(){let{mutate:e}=(0,i.kY)();return async t=>{if(t.children=t.children||[],t.ancestors=t.ancestors||[],(0,n.Vh)(t.id,t.children),await e((0,a.G)(t.id),t,{optimisticData:t,revalidate:!1}),t.parent){let e=(0,n.qY)(t.parent);e=e.find(e=>e.id===t.id)?e.map(e=>e.id===t.id?t:e):[...e,t],(0,n.Vh)(t.parent,e)}}}},92068:function(e,t,l){l.d(t,{default:function(){return eK}});var n=l(27573),i=l(5915),a=e=>{let{disabled:t,id:l,label:a,onChange:s,...r}=e;return(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsxs)("div",{className:"mt-1 grid place-items-center",children:[(0,n.jsx)("input",{type:"radio",id:l,disabled:t,className:(0,i.cn)("m-0 transition-all","peer col-start-1 row-start-1 size-4 shrink-0","appearance-none rounded-full","ring-giphyCharcoal ring-2","disabled:border-giphyLightGrey",!t&&"cursor-pointer"),onChange:s,...r}),(0,n.jsx)("div",{className:(0,i.cn)("pointer-events-none","col-start-1 row-start-1","bg-giphyCharcoal size-3 rounded-full transition-all","peer-checked:bg-giphyGreen","peer-checked:peer-disabled:bg-giphyLightGrey")})]}),(0,n.jsx)("label",{htmlFor:l,className:(0,i.cn)("text-start",t?"text-giphyLightGrey":"hover:cursor-pointer"),children:a})]})},s=l(78294),r=l(57501),o=l(77868),c=l(60810),d=l(90478),u=l(57266),h=l(7653),p=l(3458);let x={animal_welfare:"Animal welfare",pornography:"Pornography/Nudity",violence:"Violence",hate:"Hate",misinformation:"Misinformation",bullying_harassment:"Bullying and harassment",threatening_stalking:"Threatening or stalking",private_information:"Includes private information",terrorism:"Terrorism and violent extremists",illegal_activity:"Illegal content: Illegal activity",spam:"Spam",self_harm:"Promoting self-harm",underage_user:"Underage user",graphic_medical_content:"Graphic medical content",disasters_tragedies:"Disasters and tragedies",clips_copyright:"Clips Copyright",coordinated_harm:"Coordinated harm or threat to life",csam:"CSAM",illegal_substances:"Illegal content: Selling illegal substances/service"},g={note:"note",reason:"reason",reporter:"reporter",sendEmail:"send_email",userToDeactivate:"userToDeactivate"},f=async(e,t)=>{let l={userToDeactivate:t.get(g.userToDeactivate),reason:t.get(g.reason),note:t.get(g.note),send_email:"on"===t.get(g.sendEmail),reporter:t.get(g.reporter)};try{return await (0,o.kS)(l),"success"}catch(e){}return"Oops! Something went wrong. Please try again later."};var m=()=>{let{modal:e,setModalType:t}=(0,h.useContext)(r.tC),[l,o]=(0,p.useFormState)(f,null),{showMessage:m}=(0,h.useContext)(u.B);return((0,h.useEffect)(()=>{let e;return l&&("success"!==l?m({message:l,type:"success"}):e=setTimeout(()=>{t(null)},3e3)),()=>clearTimeout(e)},[l,m,t]),(null==e?void 0:e.name)!=="deactivateUser")?null:"success"===l?(0,n.jsx)("div",{className:"grid flex-1 place-items-center",children:(0,n.jsx)("h1",{children:"Sent"})}):(0,n.jsxs)("form",{className:"[&_h4]:text-giphyLightGrey group flex flex-1 flex-col gap-6 p-4 [&_h4]:font-normal",action:o,children:[(0,n.jsx)("input",{type:"text",defaultValue:null==e?void 0:e.channel.user.username,name:g.userToDeactivate,hidden:!0}),(0,n.jsxs)("h1",{children:["Are you sure you want to deactivate"," ",(0,n.jsxs)("span",{className:"text-giphyBlue",children:["@",null==e?void 0:e.channel.user.username]}),"?"]}),(0,n.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,n.jsx)(s.default,{required:!0,name:g.reason,placeholder:"Select Reason",className:"w-full",options:Object.entries(x).map(e=>{let[t,l]=e;return{label:l,value:t}})}),(0,n.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h4",{children:"Reported By:"}),(0,n.jsxs)("div",{className:"relative flex flex-1 gap-3",children:[(0,n.jsx)(a,{id:"proactive",label:"GIPHY Proactive",name:g.reporter,required:!0,value:"GIPHY Proactive"}),(0,n.jsx)(a,{id:"reported",label:"User Reported",name:g.reporter,required:!0,value:"User Reported"})]})]}),(0,n.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h4",{children:"Any additional information?"}),(0,n.jsx)("textarea",{name:g.note,placeholder:"Enter additional details...",className:"m-0 w-full resize-none p-2.5 text-sm font-normal leading-[normal] text-black"})]}),(0,n.jsxs)("section",{className:"flex cursor-pointer items-center gap-3",children:[(0,n.jsx)(d.Z,{id:"sendemail",name:g.sendEmail})," ",(0,n.jsx)("label",{htmlFor:"sendemail",className:"cursor-pointer select-none",children:"Send Email to User"})]})]}),(0,n.jsx)(c.M,{className:(0,i.cn)("bg-gradient-error group-invalid:bg-gradient-grey w-full group-invalid:pointer-events-none group-invalid:opacity-50"),children:"Confirm Deactivation"})]})},v=e=>{let{filledIndex:t,fillColor:l="blue",size:i=24}=e,a=["gray","gray","gray"];return void 0!==t&&(a[t]=l),(0,n.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"black",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{x:"3",y:"14",width:"4",height:"7",stroke:"black",fill:a[0]}),(0,n.jsx)("rect",{x:"10",y:"10",width:"4",height:"11",stroke:"black",fill:a[1]}),(0,n.jsx)("rect",{x:"17",y:"6",width:"4",height:"15",stroke:"black",fill:a[2]})]})},j=l(74101),C=l(79122),y=l(42787);let b=async(e,t,l,n,i,a)=>{let s=await (0,y.BB)({url:"".concat(j.xj,"/api/v4/channels/derank"),options:{cookie:a,method:"POST",headers:{Authorization:"Token ".concat(i),"Content-Type":"application/json","X-CSRFToken":(0,C.ej)("csrftoken",a)},body:JSON.stringify({channel_id:e,account_type:t,level:l,magic_tags:n})}});return await s.json()};var w=l(6928);let N={accountType:"accountType"},k=[{value:"unset",label:"Unset deranking",color:"rgba(34,197,94,0.85)",text:"text-white"},{value:"low",label:"Set low level",color:"rgba(253,224,71,0.85)",text:"text-black"},{value:"high",label:"Set high level",color:"rgba(239,68,68,0.85)",text:"text-white"}];var _=()=>{let{user:e}=(0,h.useContext)(w.Z),{modal:t,setModalType:l}=(0,h.useContext)(r.tC),{showMessage:s}=(0,h.useContext)(u.B),[o,d]=(0,h.useState)(null),[p,x]=(0,h.useState)(""),[g,f]=(0,h.useState)(null),[m,j]=(0,h.useState)(null),C=t&&"channel"in t&&t.channel&&"syncable_tags"in t.channel?t.channel.syncable_tags:[];if((0,h.useEffect)(()=>{let e;return"success"===o&&(e=setTimeout(()=>{l(null)},3e3)),()=>clearTimeout(e)},[o,l]),(0,h.useEffect)(()=>{!p&&C.length>0&&(C.some(e=>e.tag.startsWith("giphyderankofficial"))?x("official"):C.some(e=>e.tag.startsWith("giphyderankpromotional"))&&x("promotional"))},[t]),(null==t?void 0:t.name)!=="derankUser")return null;let y=async()=>{var l,n;if(j(null),!g){j("Please select a deranking level.");return}if(("high"===g||"low"===g)&&!p){j("Please select an account type for high or low deranking.");return}d("success"),s({message:"high"===g?"Set to high deranking level":"low"===g?"Set to low deranking level":"Deranking unset",type:"success"});let i=Array.isArray(null==t?void 0:t.channel.syncable_tags)&&(null==t?void 0:t.channel.syncable_tags.every(e=>"string"==typeof e.tag))?null==t?void 0:t.channel.syncable_tags:[];await b(null!==(n=null==t?void 0:null===(l=t.channel)||void 0===l?void 0:l.id)&&void 0!==n?n:0,"unset"===g?"promotional":p,g,i,null==e?void 0:e.token,document.cookie),window.location.reload()},_=e=>C.some(t=>t.tag===e),I=e=>"high"===e?!!("official"===p&&_("giphyderankofficialaccounthigh")||"promotional"===p&&_("giphyderankpromotionalaccounthigh")):"low"===e?!!("official"===p&&_("giphyderankofficialaccountlow")||"promotional"===p&&_("giphyderankpromotionalaccountlow")):"unset"===e&&!(_("giphyderankofficialaccounthigh")||_("giphyderankofficialaccountlow")||_("giphyderankpromotionalaccounthigh")||_("giphyderankpromotionalaccountlow"));return"success"===o?(0,n.jsx)("div",{className:"grid flex-1 place-items-center",children:(0,n.jsx)("h1",{children:"Action completed"})}):(0,n.jsxs)("form",{className:"[&_h4]:text-giphyLightGrey group flex flex-1 flex-col gap-6 p-4 [&_h4]:font-normal",onSubmit:e=>{e.preventDefault(),y()},children:[(0,n.jsxs)("h1",{children:["Derank ",(0,n.jsxs)("span",{className:"text-giphyBlue",children:["@",null==t?void 0:t.channel.user.username]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h4",{children:"Account Type"}),(0,n.jsxs)("div",{className:"flex gap-6",children:[(0,n.jsx)(a,{id:"official",label:"Official account",name:N.accountType,checked:"official"===p,onChange:()=>x("official"),value:"official"}),(0,n.jsx)(a,{id:"promotional",label:"Promotional account",name:N.accountType,checked:"promotional"===p,onChange:()=>x("promotional"),value:"promotional"})]})]}),(0,n.jsx)("section",{children:(0,n.jsx)("div",{className:"flex justify-between gap-4",children:k.map(e=>{let t=I(e.value);return(0,n.jsx)("button",{type:"button",className:"flex-1 rounded-lg border-4 py-6 text-lg font-bold transition-all duration-200 ".concat(g===e.value?"opacity-80":"opacity-80 hover:opacity-100"," ").concat(t?"ring-4":""),style:{border:"2px solid ".concat(e.color),color:t?e.color:g===e.value?"white":e.color,background:t?"rgba(0,0,0,0.7)":g===e.value?e.color:"transparent",boxShadow:t?"0 0 0 4px ".concat(e.color):void 0,transition:"background 0.2s, color 0.2s, box-shadow 0.2s"},onClick:()=>f(e.value),children:(0,n.jsxs)("span",{className:"flex w-full items-center justify-center gap-2",children:[(0,n.jsx)(v,{filledIndex:"high"===e.value?2:"low"===e.value?1:0,fillColor:e.color}),(0,n.jsx)("span",{children:e.label})]})},e.value)})})}),m&&(0,n.jsx)("div",{className:"text-sm text-red-500",children:m}),(0,n.jsx)(c.M,{className:(0,i.cn)("bg-gradient-error group-invalid:bg-gradient-grey w-full group-invalid:pointer-events-none group-invalid:opacity-50"),children:"Confirm Deranking"})]})]})},I=l(89127),L=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 20 12",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5827e-08 8.99561C3.68746e-08 8.90776 0.0390433 8.81991 0.117131 8.73206L9.69253 0.105419C9.77713 0.0351411 9.87799 1.07147e-06 9.99512 1.07286e-06C10.1122 1.07426e-06 10.2131 0.0351411 10.2977 0.105419L19.8731 8.73206C19.9577 8.80234 20 8.89165 20 9C20 9.10835 19.9577 9.19766 19.8731 9.26794L16.9546 11.8946C16.8765 11.9649 16.7773 12 16.6569 12C16.5365 12 16.4373 11.9649 16.3592 11.8946L9.99512 6.16691L3.63104 11.8946C3.55295 11.9649 3.45372 12 3.33333 12C3.21295 12 3.11371 11.9649 3.03563 11.8946L0.117131 9.26794C0.0390433 9.18009 3.47096e-08 9.08931 3.5827e-08 8.99561Z"})}),Z=e=>{let{label:t,name:l,className:a}=e,[s,r]=(0,h.useState)(0);return(0,n.jsxs)("div",{className:(0,i.cn)("bg-giphyDarkGrey flex items-center gap-4 p-2",a),children:[(0,n.jsxs)("div",{className:"bg-giphyDarkestGrey flex w-fit gap-2 p-2",children:[(0,n.jsx)("input",{type:"number",name:l,className:"number-input bg-giphyDarkestGrey text-giphyLightGrey w-6 bg-giphyDarkestGrey/0",placeholder:"0",value:s,readOnly:!0}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{children:(0,n.jsx)(L,{className:"fill-giphyBlue size-3 cursor-pointer",onClick:()=>{r(s+1)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(I.Z,{className:"fill-giphyBlue size-3 cursor-pointer",onClick:()=>{r(Math.max(0,s-1))}})})]})]}),(0,n.jsx)("label",{className:"px-2 font-bold",children:t})]})},S=l(61288),F=l(82057),G=l(29897),T=l(84390),O=l(23733),D=l(26858),V=l(76957),H=l(77233),E=l(10634);let B=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Help us get a better sense of what you're working on & where the work will live. Select any that might apply."}),(0,n.jsx)("a",{className:"text-giphyWhite underline",target:"_blank",rel:"noreferrer",href:"https://support.giphy.com/hc/en-us/articles/360022661172-Hire-A-GIF-Artist-",children:"Learn More about GIF Commissions"})]}),M=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Rates tend to vary! Consider the scope of work and a fair day rate to help calculate this."}),(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://support.giphy.com/hc/en-us/articles/360022661172-Hire-A-GIF-Artist-",children:"Learn More about GIF Commissions"})]}),R=()=>(0,n.jsx)("div",{className:"grid flex-1 place-items-center text-3xl font-bold",children:"Inquiry Sent"}),P=e=>"+$50,000"===e?"50000":e.replace(/\$/g,"").replace(/\,/g,"").split("-")[0].trim(),z=e=>"+$50,000"===e?"100000":e.replace(/\$/g,"").replace(/\,/g,"").split("-")[1].trim(),A=e=>{var t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]},U=e=>[P(e),z(e)],W=e=>{let{label:t,onChange:l,min:i}=e,a=(0,h.useRef)((0,E.O)(t)),{isOpen:s,listeners:r,closeTooltip:o}=(0,V.lL)({color:T.nf,id:a.current,triggerType:"click",width:350});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.uH,{isOpen:s,children:(0,n.jsx)("div",{className:"bg-giphyDarkGrey relative p-4",children:(0,n.jsx)(D.Z,{min:i,size:"small",onChange:e=>{o(),l(e)}})})}),(0,n.jsx)(c.default,{...r,className:"bg-gradient-grey",children:t})]})},q="text-giphyWhite font-bold py-2 flex",$={projectType:"project_type",gifCount:"project_gif_count",stickerCount:"project_sticker_count",videoCount:"project_video_count",budget:"budget",budget_min:"project_budget_min",budget_max:"project_budget_max",start:"project_start_date",end:"project_end_date",artistId:"artistId"},Y=async(e,t)=>{let[l,n]=U(t.get($.budget));t.delete($.budget);let i=t.get($.artistId);t.delete($.artistId),t.set($.budget_min,l),t.set($.budget_max,n);let a={};t.forEach((e,t)=>a[t]=e),console.log("payload",a);try{let e=await fetch("".concat(j.xj,"/api/v1/users/").concat(i,"/freelance-email/"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":(0,C.ej)("csrftoken")},body:JSON.stringify(a)});if(e.ok)return(0,O.u2)({event:"hire_form_success",options:{form:{formName:"hire me"}}}),"success";{let t=(0,H.ZF)(await e.json());(0,O.u2)({event:"hire_form_error",options:{form:{formName:"hire me",formError:t.join(",")}}})}}catch(e){(0,O.u2)({event:"hire_form_error",options:{form:{formName:"hire me",formError:"uncaught exception"}}})}return"Oops! Something went wrong. Please try again later."};var K=()=>{let{user:e}=(0,h.useContext)(w.Z),{modal:t,setModalType:l}=(0,h.useContext)(r.tC),[a,o]=(0,h.useState)(),[x,g]=(0,h.useState)(),[f,m]=(0,p.useFormState)(Y,null),{showMessage:v}=(0,h.useContext)(u.B);return((0,h.useEffect)(()=>{let e;return f&&("success"!==f?v({message:f,type:"error"}):e=setTimeout(()=>{l(null)},3e3)),()=>clearTimeout(e)},[f,v,l]),(0,h.useEffect)(()=>{g(void 0)},[a]),e&&(null==t?void 0:t.name)==="hireMe")?"success"===f?(0,n.jsx)(R,{}):(0,n.jsxs)("form",{className:"group flex flex-col gap-10 p-2",action:m,children:[(0,n.jsx)("input",{hidden:!0,type:"text",defaultValue:t.artist.id,name:$.artistId}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(G.Z,{user:t.artist}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("h4",{children:"Work Inquiry For"}),(0,n.jsx)("h1",{children:t.artist.username})]})]}),(0,n.jsxs)("div",{className:"flex min-h-fit flex-col gap-6",children:[(0,n.jsxs)("section",{children:[(0,n.jsxs)("h3",{className:(0,i.cn)(q,"items-center gap-3"),children:[(0,n.jsx)("div",{className:"flex-1",children:"I'm looking for:"}),(0,n.jsx)("div",{className:"text-giphyLightGrey",children:"Uncertain Amount / flexible "}),(0,n.jsx)(d.Z,{name:"project_flexible"})]}),(0,n.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,n.jsx)(Z,{label:"GIFs",name:$.gifCount}),(0,n.jsx)(Z,{label:"Animated Stickers",name:$.stickerCount}),(0,n.jsx)(Z,{label:"Clips (with sound)",name:$.videoCount})]})]}),(0,n.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,n.jsxs)("section",{className:"flex-1",children:[(0,n.jsxs)("h3",{className:(0,i.cn)(q,"gap-2"),children:["What type of project is this?",(0,n.jsx)(S.Z,{label:(0,n.jsx)(B,{}),children:(0,n.jsx)(F.Z,{className:"size-3"})})]}),(0,n.jsx)(s.default,{required:!0,name:$.projectType,placeholder:"Choose which type(s)",className:"w-full",options:[{label:"Advertising Campaign",value:""},{label:"Social Media Campaign",value:""},{label:"Editorial",value:""},{label:"Personal Promotion",value:""},{label:"TV/Broadcast/Film",value:""},{label:"Music Video",value:""},{label:"Product Design",value:""},{label:"Social Good",value:""}]})]}),(0,n.jsxs)("section",{className:"flex-1",children:[(0,n.jsxs)("h3",{className:(0,i.cn)(q,"gap-2"),children:["Project Budget",(0,n.jsx)(S.Z,{label:(0,n.jsx)(M,{}),children:(0,n.jsx)(F.Z,{className:"size-3"})})]}),(0,n.jsx)(s.default,{required:!0,className:"w-full",placeholder:"Select Budget",name:$.budget,options:[{label:"$500 - $2,000",value:""},{label:"$2,000 - $5,000",value:""},{label:"$5,000 - $10,000",value:""},{label:"$10,000 - $25,000",value:""},{label:"$25,000 - $50,000",value:""},{label:"+$50,000",value:""}]})]})]}),(0,n.jsxs)("section",{className:"",children:[(0,n.jsx)("h3",{className:q,children:"Project Timeline"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{children:"Start:"}),(0,n.jsx)("input",{type:"text",hidden:!0,required:!0,defaultValue:a?A(a):"",name:$.start}),(0,n.jsx)(W,{min:new Date,name:$.start,label:(null==a?void 0:a.toLocaleDateString())||"Select Date Start",onChange:o})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{children:"End:"}),(0,n.jsx)("input",{type:"text",hidden:!0,required:!0,defaultValue:x?A(x):"",name:$.end}),(0,n.jsx)(W,{name:$.end,min:a,label:(null==x?void 0:x.toLocaleDateString())||"Select Date End",onChange:g})]})]})]}),(0,n.jsxs)("section",{className:"",children:[(0,n.jsxs)("h3",{className:(0,i.cn)(q,"flex justify-between"),children:[(0,n.jsx)("div",{children:"Contact Email"}),(0,n.jsx)("div",{className:"text-giphyLightGrey",children:"Any responses will be sent here"})]}),(0,n.jsx)("input",{type:"email",required:!0,name:"email",defaultValue:e.email,className:"bg-giphyDarkGrey w-full p-2 text-white"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(c.M,{className:(0,i.cn)("group-invalid:bg-gradient-grey w-full group-invalid:pointer-events-none group-invalid:opacity-50"),children:"Send Inquiry"}),(0,n.jsx)("h5",{className:"text-center",children:"Clicking “Send Inquiry” will send an email to this Artist containing the information you entered, including your email address. Please ensure you are comfortable sharing the information entered."})]})]}):null},J=l(53501),X=l(82544),Q=l(52930),ee=l(81899),et=l(62843),el=e=>{let{channel:t}=e,[l,a]=(0,h.useState)(!1);return t?(0,n.jsxs)("div",{className:"min-h-[300px] flex flex-col gap-2",children:[(0,n.jsx)("div",{className:(0,i.cn)("flex justify-end"),children:(0,n.jsxs)(c.default,{onClick:()=>a(!0),className:(0,i.cn)("cursor-pointer",l&&"opacity-80"),children:["See all the ",t.display_name," Gifs"]})}),l&&t&&(0,n.jsx)(ee.Grid,{columns:3,gutter:10,width:et.VC,percentWidth:"100%",fetchGifs:async e=>await (0,o.vK)(t.id,{offset:e})})]}):null},en=l(96996),ei=l(85202),ea=l(64332),es=l(74158);let er="group w-36",eo=e=>{let{className:t,children:l,gifId:a,channelId:s}=e,{showStatusMessage:c}=(0,h.useContext)(u.B),{setModalType:d}=(0,h.useContext)(r.tC);return(0,n.jsx)("div",{className:(0,i.cn)(t),onClick:async()=>{a&&(c("Added to collection","Failed to add to collection",(await (0,o.ZB)([a],s)).ok),d(null))},children:l})};var ec=e=>{let{channelId:t,gifId:l}=e,{user:a}=(0,h.useContext)(w.Z),{setModalType:s,modal:o}=(0,h.useContext)(r.tC),{staffMode:c}=(0,h.useContext)(X.WA),d=t||(null==o?void 0:o.channelId)||(null==a?void 0:a.channel_id),{channel:u,isLoading:p,ref:x,children:g,doneFetching:f}=(0,J.eN)(d);if(!a)return null;let m=(null==u?void 0:u.id)===(null==a?void 0:a.channel_id);return(0,n.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[c&&(0,n.jsx)(ea.Z,{onSelect:e=>{s({name:"addToCollection",channelId:e.id,title:"Add to ".concat(e.display_name)})}}),(0,n.jsx)("div",{className:"animate-fade-in flex flex-wrap justify-start gap-4 overflow-y-auto overflow-x-hidden pt-2",style:{maxHeight:"calc(100vh - 300px)"},children:p?(0,n.jsx)(Q.Z,{}):(0,n.jsxs)(n.Fragment,{children:[!!t&&m&&(null==o?void 0:o.name)!=="addToCollection"&&(0,n.jsx)(en.ZP,{channel:u,className:""}),u&&(0,n.jsx)(ei.Z,{className:(0,i.cn)(er),channel:u}),null==g?void 0:g.map(e=>{let t=(0,i.cn)(es.q8,er,es.az);return 0===e.num_children?(0,n.jsx)(eo,{channelId:e.id,gifId:l,className:t,children:(0,n.jsx)(es.KP,{channel:e})},e.id):(0,n.jsxs)("div",{className:t,onClick:()=>{s({name:"addToCollection",channelId:e.id,title:e.display_name})},children:[(0,n.jsx)(es.KP,{channel:e}),(0,n.jsx)(es.WD,{count:e.num_children})]},e.id)}),!f&&(0,n.jsx)("div",{ref:x,children:(0,n.jsx)(Q.Z,{})})]})},"container-".concat(p)),(null==o?void 0:o.name)!=="addToCollection"&&(0,n.jsx)(el,{channel:u})]})},ed=l(40604),eu=l(66206),eh=l(11628),ep=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.75 20C14.0951 20 14.3896 19.8779 14.6338 19.6338C14.8779 19.3896 15 19.0951 15 18.75V10C15 9.65495 14.8779 9.36035 14.6338 9.11621C14.3896 8.87207 14.0951 8.75 13.75 8.75H12.5V5C12.5 4.3099 12.7441 3.7207 13.2324 3.23242C13.7207 2.74414 14.3099 2.5 15 2.5C15.6901 2.5 16.2793 2.74414 16.7676 3.23242C17.2559 3.7207 17.5 4.3099 17.5 5V10.8301C17.5 10.9473 17.5407 11.0465 17.6221 11.1279C17.7034 11.2093 17.8027 11.25 17.9199 11.25H19.5801C19.6973 11.25 19.7965 11.2093 19.8779 11.1279C19.9593 11.0465 20 10.9473 20 10.8301V5C20 4.32292 19.8682 3.67676 19.6045 3.06152C19.3408 2.44629 18.9844 1.91406 18.5352 1.46484C18.0859 1.01562 17.5537 0.659179 16.9385 0.395507C16.3232 0.131835 15.6771 0 15 0C14.3229 0 13.6768 0.131835 13.0615 0.395507C12.4463 0.659179 11.9141 1.01562 11.4648 1.46484C11.0156 1.91406 10.6592 2.44629 10.3955 3.06152C10.1318 3.67676 10 4.32292 10 5V8.75H1.25C0.904948 8.75 0.610351 8.87207 0.366211 9.11621C0.12207 9.36035 0 9.65495 0 10V18.75C0 19.0951 0.12207 19.3896 0.366211 19.6338C0.610351 19.8779 0.904948 20 1.25 20H13.75Z"})}),ex=l(17676),eg=e=>{let{initialIsPrivate:t}=e,[l,i]=(0,h.useState)(!!t);return(0,n.jsxs)("div",{className:"h-9",children:[(0,n.jsx)(ex.Z,{options:[{label:(0,n.jsx)(ep,{className:"fill-giphyBlack mx-4 size-5"}),gradientClassName:"bg-gradient-secondary"},{label:(0,n.jsx)(eh.Z,{className:"fill-giphyBlack mx-4 size-5"}),gradientClassName:"bg-gradient-error"}],index:l?1:0,onTransitionEnd:e=>{i(1===e)}}),(0,n.jsx)("input",{type:"hidden",name:"is_private",value:l?"true":"false"})]})},ef=l(1839);let em=e=>{let{className:t,children:l,featuredGif:i,enabled:a}=e,s=(0,C.ej)("csrftoken"),{showMessage:c}=(0,h.useContext)(u.B),d=(0,ef.I)(),{goBack:p,setModalType:x,modal:g}=(0,h.useContext)(r.tC),{data:f}=(0,ed.zT)(null==g?void 0:g.channelId);return(0,n.jsx)("form",{autoComplete:"off",className:t,action:async e=>{if(!a)return;let t=await (0,y.BB)({url:"".concat(j.df,"/api/v4/channels"),options:{...(0,C.xl)(s),body:JSON.stringify(Object.fromEntries(e))}});if(t.ok){let e=await t.json();i&&!(0,eu.eh)(i)?(await (0,o.ZB)([i.id],e.id)).ok&&c({message:"Created collection",type:"success"}):c({message:"Created collection",type:"success"}),await d({...e,featured_gif:i}),f?x({name:"editCollections",channelId:f.id,title:(0,n.jsx)(es.Oo,{channel:f})}):p()}else c({message:"Failed to create to collection",type:"error"})},children:l})};var ev=e=>{var t;let{channelId:l,gifId:a}=e,{user:s}=(0,h.useContext)(w.Z),{data:r}=(0,ed.zT)(l),{data:o=(0,eu.ZP)()}=(0,ed.At)(a),[d,u]=(0,h.useState)(""),p=!!d,x=!!(null==r?void 0:null===(t=r.ancestors)||void 0===t?void 0:t.length);return r?(0,n.jsxs)(em,{enabled:p,className:"flex flex-col items-center gap-2 p-2 font-bold",featuredGif:o,children:[(0,n.jsxs)("div",{className:(0,i.cn)(es.q8,"bg-giphyIndigo mb-2 w-40"),children:[(0,n.jsx)(es.Nx,{src:es.y$,width:"100%",className:"bg-black/40"}),(0,n.jsx)(es.hu,{label:d||"New Collection"})]}),(0,n.jsx)(eg,{}),(0,n.jsx)("input",{type:"hidden",name:"user",value:null==s?void 0:s.id}),(0,n.jsx)("input",{type:"hidden",name:"parent",value:null==r?void 0:r.id}),(0,n.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,n.jsx)("label",{className:"text-giphyLightGrey",htmlFor:"channel",children:"Name"}),(0,n.jsx)("input",{type:"text",spellCheck:!1,value:d,onChange:e=>u(e.target.value),placeholder:"Collection Name",name:"display_name",autoComplete:"off",autoCorrect:"off",className:(0,i.cn)(es.gI,"peer/input w-full")})]}),(0,n.jsx)(es.iz,{}),(0,n.jsxs)(c.M,{className:(0,i.cn)("w-full cursor-pointer select-none peer-placeholder-shown/input:pointer-events-none peer-placeholder-shown/input:opacity-50",!p&&"bg-gradient-grey"),children:["Create ",x?"Sub-":"","Collection"]})]}):null};let ej={VIDEO:"video",IMAGE:"image"},eC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("video/")>-1},ey=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("image/")>-1},eb={NO_FILE:"NO_FILE",INVALID_FILE:"INVALID_FILE",FILE_TOO_BIG:"FILE_TOO_BIG",FILE_TOO_LONG:"FILE_TOO_LONG"},ew=e=>eC(e)?ej.VIDEO:ey(e)?ej.IMAGE:void 0,eN=(e,t)=>t.some(t=>{let[l,n]=t.split("/");if(e.indexOf("*"===n?l:t)>-1)return!0}),ek=(e,t,l,n)=>new Promise((i,a)=>{if(!e||!e.type){a(eb.NO_FILE);return}if(!eN(e.type,t)){a(eb.INVALID_FILE);return}if((e.size?e.size/1048576:0)>n){a(eb.FILE_TOO_BIG);return}let s=ew(e.type);if(!s){a(eb.INVALID_FILE);return}let r={file:e,fileType:s,type:"file"};if(l&&"video"===s){let t=document.createElement("video");t.onerror=e=>{console.info("Reject file:",e),a(eb.INVALID_FILE)},t.onloadedmetadata=()=>{t.duration>l?a(eb.FILE_TOO_LONG):i(r),URL.revokeObjectURL(t.src)},t.src=URL.createObjectURL(e)}else i(r)});var e_=e=>{let{maxFileSize:t=1/0,className:l,accept:a,...s}=e;return(0,n.jsx)("input",{onChange:async e=>{if(e.target.files){console.log("File input changed");for(var l=0;l<e.target.files.length;l++){let n=e.target.files[l];await ek(n,a,0,t)?console.log("File is valid"):console.log("File is invalid")}}},accept:a.join(","),type:"file",...s,className:(0,i.cn)("bg-giphyBlack text-giphyWhite w-full px-4 py-2",l)})},eI=l(71132),eL=l(81695),eZ=e=>{let{className:t,children:l,channelId:i}=e,{showStatusMessage:a}=(0,h.useContext)(u.B),{goBack:s,modal:c}=(0,h.useContext)(r.tC),d=(0,ef.I)(),p=(0,eL.useRouter)(),x=(0,eL.usePathname)();return(0,n.jsx)("form",{id:"editForm",autoComplete:"off",className:t,action:async e=>{let t=await (0,o.Lk)(i,e);if(a("Collection Saved","Failed to update collection",t.ok),t.ok){let e=await t.json();(null==c?void 0:c.name)==="editCollection"&&c.channel.url===x&&e.url!==x?p.replace(e.url):(await d(e),s())}},children:l})};let eS={display_name:"",description:""};var eF=()=>{let{user:e}=(0,h.useContext)(w.Z),{showStatusMessage:t}=(0,h.useContext)(u.B),{modal:l,setModalType:a,goBack:s}=(0,h.useContext)(r.tC),d=(0,eL.useRouter)(),p=(null==l?void 0:l.name)==="editCollection"?l.channel:void 0,{data:x=p||eS}=(0,ed.zT)(p?null:null==l?void 0:l.channelId),[g,f]=(0,h.useState)("");(0,h.useEffect)(()=>{x&&f(null==x?void 0:x.display_name)},[x]);let m=(0,eL.usePathname)();return(0,n.jsxs)(eZ,{className:(0,i.cn)("flex flex-col items-center gap-2 p-2 font-bold transition-opacity",!x.display_name&&"pointer-events-none opacity-60"),channelId:x.id,children:[(0,n.jsxs)("div",{className:(0,i.cn)("bg-giphyIndigo w-40 overflow-hidden rounded-md"),children:[(0,n.jsx)(es.eI,{gif:x.featured_gif}),(0,n.jsx)(es.hu,{label:g})]}),(0,n.jsx)("label",{className:"text-giphyLightGrey self-start",htmlFor:"channel",children:"Name"}),(0,n.jsx)("input",{type:"text",spellCheck:!1,value:g,placeholder:"Collection Name",name:"display_name",autoComplete:"off",onChange:e=>f(e.target.value),autoCorrect:"off",className:(0,i.cn)(es.gI,"peer/input w-full")}),(0,n.jsxs)("div",{className:"text-giphyLightGrey flex w-full justify-between",children:[(0,n.jsx)("label",{children:"Description"}),(0,n.jsx)("label",{className:"text-giphyLightCharcoal self-baseline text-sm",children:"Optional"})]}),(0,n.jsx)("textarea",{defaultValue:x.description,maxLength:200,placeholder:"Add a brief description about your collection.",name:"description",className:(0,i.cn)(es.gI,"peer/textarea h-20 w-full")}),(0,n.jsxs)("div",{className:"mt-3 flex w-full items-end justify-between",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("label",{className:"text-giphyLightGrey self-start",htmlFor:"private",children:"Visibility"}),(0,n.jsx)(eg,{initialIsPrivate:x.is_private})]}),(0,n.jsxs)("div",{className:"w-1/2",children:[(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsxs)("label",{className:"text-giphyLightGrey",children:["Banner ",(0,n.jsx)("span",{className:"text-giphyDarkCharcoal text-xs italic",children:"5 mb max, 1040x160"})]}),(0,n.jsx)("label",{className:"text-giphyLightCharcoal self-baseline text-sm",children:"Optional"})]}),(0,n.jsx)(e_,{className:"bg-giphyBlack text-giphyWhite w-full px-4 py-2",placeholder:"Choose File",accept:["image/*"],name:"banner"})]})]}),(0,n.jsx)("div",{className:"mt-3 flex w-full items-end justify-between",children:(0,n.jsxs)("div",{className:"flex w-full gap-2",children:[(0,n.jsx)(c.default,{type:"button",className:"bg-giphyDarkGrey flex-1",onClick:()=>{a({name:"createCollection",channelId:x.id,title:'Create new sub-collection in "'.concat(x.display_name,'"')})},children:"Create Subcollection"}),(0,n.jsxs)(c.default,{type:"button",className:"bg-giphyDarkGrey text-giphyWhite flex h-9 flex-1 cursor-pointer items-center justify-center",onClick:async n=>{if(n.preventDefault(),n.stopPropagation(),window.confirm("Are you sure you want to delete this collection?")){let n=await (0,o.zz)(x.id);if(t("Collection Deleted","Failed to delete collection",n.ok),n.ok){let t=(0,J.qY)(x.parent);t&&(0,J.Vh)(x.parent,t.filter(e=>e.id!==x.id)),s(),(null==l?void 0:l.name)==="editCollection"&&l.channel.url===m&&setTimeout(()=>{e&&d.replace(e.profile_url||"/".concat(e.username))},1e3)}}},children:[(0,n.jsx)(eI.Z,{className:"fill-inherit mr-2 size-4"})," Delete Collection"]})]})}),(0,n.jsx)("input",{type:"hidden",name:"user_id",value:null==e?void 0:e.id}),(0,n.jsx)("input",{type:"hidden",name:"id",value:null==x?void 0:x.id}),(0,n.jsx)("input",{type:"hidden",name:"parent",value:null==x?void 0:x.parent}),(0,n.jsx)(es.iz,{}),(0,n.jsx)(c.M,{className:"w-full cursor-pointer select-none peer-placeholder-shown/input:pointer-events-none peer-placeholder-shown/input:opacity-50",children:"Save Changes"})]})},eG=l(6176),eT=l(39092),eO=l(2446),eD=l(8026),eV=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 18 16",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.999999C0 0.447714 0.447715 0 1 0H17C17.5523 0 18 0.447715 18 1V1.8C18 2.35229 17.5523 2.8 17 2.8H1C0.447716 2.8 0 2.35228 0 1.8V0.999999ZM0 7.6C0 7.04771 0.447715 6.6 1 6.6H17C17.5523 6.6 18 7.04772 18 7.6V8.4C18 8.95229 17.5523 9.4 17 9.4H1C0.447716 9.4 0 8.95228 0 8.4V7.6ZM0 14.2C0 13.6477 0.447715 13.2 1 13.2H17C17.5523 13.2 18 13.6477 18 14.2V15C18 15.5523 17.5523 16 17 16H1C0.447716 16 0 15.5523 0 15V14.2Z"})}),eH=l(69103),eE=e=>(0,n.jsxs)("svg",{fill:e.color||"white",width:"22",height:"22",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,n.jsx)("path",{d:"M22 3.43696C22 1.54319 20.4561 0 18.5614 0H14.4351C13.6752 0 13.0597 0.615216 13.0597 1.37478C13.0597 2.13435 13.6752 2.74957 14.4351 2.74957H17.3029L11.227 8.82267C10.6905 9.35884 10.6905 10.2284 11.227 10.768C11.4952 11.0361 11.8459 11.1701 12.2001 11.1701C12.5542 11.1701 12.905 11.0361 13.1732 10.768L19.2491 4.69489V7.56131C19.2491 8.32088 19.8647 8.93609 20.6246 8.93609C21.3845 8.93609 22 8.32088 22 7.56131V3.43696Z",fill:"white"}),(0,n.jsx)("path",{d:"M0.922392 19.5528C1.3247 20.1577 1.83705 20.6663 2.44224 21.0719C3.83142 21.9999 5.76734 21.9999 9.62542 21.9999C13.4835 21.9999 15.4194 21.9999 16.8086 21.0719C17.4138 20.6698 17.9227 20.1577 18.3284 19.5528C19.2087 18.2364 19.2534 16.4217 19.2534 13.0638C19.2534 12.3042 18.6379 11.689 17.878 11.689C17.1181 11.689 16.5026 12.3042 16.5026 13.0638C16.5026 15.7274 16.4682 17.3875 16.0384 18.0302C15.8355 18.3326 15.581 18.587 15.2784 18.7898C14.5838 19.2537 12.7167 19.2537 9.62542 19.2537C6.53414 19.2537 4.66356 19.2537 3.9724 18.7898C3.66981 18.587 3.41536 18.3326 3.21248 18.0302C2.74827 17.3359 2.74827 15.4697 2.74827 12.3798C2.74827 9.29 2.74827 7.4203 3.21248 6.72947C3.41536 6.42702 3.66981 6.17268 3.9724 5.9699C4.61542 5.54028 6.27625 5.50935 8.94114 5.50591C9.70107 5.50591 10.3166 4.8907 10.3166 4.13113C10.3166 3.37156 9.70107 2.75635 8.94114 2.75635C5.58166 2.75635 3.76609 2.80103 2.44568 3.68433C1.84393 4.08645 1.33158 4.59856 0.929269 5.20002C0.000854082 6.58856 0.000854492 8.52356 0.000854492 12.3798C0.000854492 16.2361 0.000854082 18.1711 0.929269 19.5596L0.922392 19.5528Z",fill:"white"})]}),eB=l(88146);let eM="bg-giphyDarkCharcoal flex p-3 rounded-md gap-2 cursor-pointer";var eR=e=>{let{channel:t,className:l,dragHandleProps:a}=e,{setModalType:s}=(0,h.useContext)(r.tC),{data:c=t}=(0,ed.el)(t),d=c.num_children>0,u=c.featured_gif||(0,eu.ZP)(),[p,x]=(0,h.useState)(),{ref:g,inView:f}=(0,eT.YD)();return(0,h.useEffect)(()=>{let e=async()=>{x((await (0,o.vK)(c.id,{offset:0,limit:25},document.cookie)).pagination.count)};f&&e()},[c,f]),(0,n.jsxs)("div",{ref:g,className:(0,i.cn)("bg-giphyDarkGrey hover:bg-giphyCharcoal flex cursor-pointer",l),onClick:()=>{s({name:"editCollections",channelId:c.id,title:(0,n.jsx)(es.Oo,{channel:c})})},children:[(0,n.jsx)(ee.Gif,{className:(0,i.cn)(l,"cursor-pointer [&_img]:object-cover"),gif:u,width:120,height:80,onGifClick:()=>{s({name:"editCollections",channelId:c.id,title:(0,n.jsx)(es.Oo,{channel:c})})},hideAttribution:!0,noLink:!0,overlay:e=>{let{}=e;return c.is_private?(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(eh.Z,{className:"fill-giphyRed size-10"})}):null},borderRadius:0,backgroundColor:u.is_sticker?void 0:"rgba(0,0,0,0)"}),(0,n.jsx)("div",{className:"flex grow justify-between p-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("span",{className:"line-clamp-1 select-none text-xl font-bold",children:c.display_name}),d&&(0,n.jsxs)("div",{className:(0,i.cn)(eM,"border rounded-lg px-2 py-1 text-center font-bold"),onClick:()=>{s({name:"editCollections",channelId:c.id,title:(0,n.jsx)(es.Oo,{channel:c})})},children:[c.num_children," more"]})]}),(0,n.jsx)("div",{className:"text-giphyLightGrey h-5 select-none",children:p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"font-bold",children:p})," items"]}):""})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 p-4",children:[(0,n.jsxs)(eB.default,{className:eM,href:c.url,target:"_blank",children:[(0,n.jsx)(eE,{className:"size-5"}),"View"]}),(0,n.jsxs)(r.ClickToShowModal,{modal:{name:"editCollection",channel:c},className:eM,children:[(0,n.jsx)(eH.Z,{className:"size-5"})," Edit"]}),(0,n.jsx)("div",{...a,children:(0,n.jsx)(eV,{className:(0,i.cn)("ml-4 size-5 cursor-grab")})})]})]})},eP=l(47375),ez=e=>{let{className:t,channel:l}=e,a=l.ancestors.length>0;return(0,n.jsxs)(r.ClickToShowModal,{modal:{name:"createCollection",channelId:l.id},className:(0,i.cn)("cursor-pointer rounded-md","striped-background","hover:border-giphyLightCharcoal basis-full","flex items-center justify-center",t),children:[(0,n.jsx)(eP.Z,{className:"size-5"}),(0,n.jsx)(es.hu,{className:"text-2xl",label:"New ".concat(a?"Sub-":"","Collection")})]})},eA=()=>{let{user:e}=(0,h.useContext)(w.Z),{modal:t,setModalType:l}=(0,h.useContext)(r.tC),a=null==t?void 0:t.channelId,{showMessage:s}=(0,h.useContext)(u.B),c=a||(null==e?void 0:e.channel_id),{data:d,isLoading:p}=(0,ed.zT)(c),x=(0,J.EY)(c,null==d?void 0:d.children),g=(0,ef.I)(),[f,m]=(0,h.useState)([]),{staffMode:v}=(0,h.useContext)(X.WA),[j,C]=(0,h.useState)(!1);(0,h.useEffect)(()=>{x&&m(x.map(e=>e.id.toString()))},[x]);let y=(0,h.useCallback)(async e=>await (0,o.TT)(c,"",{offset:e,limit:25}),[c]),{ref:b,inView:N}=(0,eT.YD)({rootMargin:"0px 0px 250px 0px"}),{doneFetching:k,gifs:_}=(0,eO.Z)({initialData:x,fetchData:y,triggerFetch:N,checkDone:()=>x.length===(null==d?void 0:d.num_children)});if((0,h.useEffect)(()=>{(0,J.Vh)(c,_)},[c,_]),!e)return null;let I=async e=>{let{draggableId:t,source:l,destination:n}=e,i=null==n?void 0:n.index,a=l.index;if(void 0!==i&&i!==a){C(!0);let e=f.filter(e=>e.toString()!==t);m(e=(0,eD.J2)(e,i,t));let l=e[i+1],n=l?"left":"right",a="right"===n?e[i-1]:l,r=!1;try{r=!(await (0,o.Yo)(t,a,n)).ok}catch(e){r=!0}r&&(m(f),s({type:"error",message:"There was error updating"})),C(!1),await g({...d,children:e.map(e=>null==x?void 0:x.find(t=>t.id.toString()===e))})}};return(0,n.jsxs)("div",{style:{maxHeight:"calc(100vh - 200px)"},className:(0,i.cn)("flex flex-col gap-2.5 p-2",j&&"pointer-events-none opacity-70"),children:[v&&(0,n.jsx)(ea.Z,{onSelect:e=>{l({name:"editCollections",channelId:e.id,title:(0,n.jsx)(es.Oo,{channel:e})})}}),d&&(0,n.jsx)(ez,{className:"h-20 w-full p-5",channel:d}),p?(0,n.jsx)(Q.Z,{}):x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eG.Z5,{onDragEnd:I,children:(0,n.jsx)(eG.bK,{droppableId:"droppable",children:(e,t)=>(0,n.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"flex flex-col gap-4",children:[f.map((e,t)=>{let l=x.find(t=>t.id.toString()===e);return l?(0,n.jsx)(eG._l,{draggableId:l.id.toString(),index:t,children:(e,a)=>(0,n.jsx)("div",{ref:e.innerRef,...e.draggableProps,className:(0,i.cn)("box-border border-2 border-transparent border-solid",a.isDragging&&"border-giphyCharcoal"),children:(0,n.jsx)(eR,{dragHandleProps:e.dragHandleProps,channel:l},"".concat(l.id,"-").concat(t))})},l.id):(console.error(e,"not found in children:",x),null)}),e.placeholder]})})}),!k&&(0,n.jsx)("div",{ref:b,children:(0,n.jsx)(Q.Z,{})})]})]})},eU=l(5794),eW=l(97189),eq=l(75050),e$=e=>{let{channelId:t,channel:l}=e,{modal:a,setModalType:s}=(0,h.useContext)(r.tC),{user:d}=(0,h.useContext)(w.Z),p=(0,h.useCallback)(async e=>await (0,o.vK)(null==d?void 0:d.channel_id,{offset:e,limit:20},document.cookie),[null==d?void 0:d.channel_id]),{setGifs:x}=(0,h.useContext)(eW._p),[g,f]=(0,h.useState)([]),[m,v]=(0,h.useState)(!1),{showMessage:j}=(0,h.useContext)(u.B),C=(0,h.useCallback)(e=>{let t=g.indexOf(e.gif);return(0,n.jsx)(eq.Z,{...e,count:-1!==t?t+1:void 0})},[g]),y=(0,ef.I)();return(null==a?void 0:a.name)==="addGifsToCollection"?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:(0,i.cn)("relative mt-2 flex flex-col gap-4 overflow-hidden",m&&"pointer-events-none opacity-80"),style:{height:"calc(100vh - 100px)"},children:[(0,n.jsx)(c.default,{className:(0,i.cn)("mx-auto cursor-pointer",0===g.length&&"bg-giphyCharcoal pointer-events-none cursor-none"),onClick:async()=>{v(!0),(await (0,o.ZB)(g.map(e=>e.id),t)).ok?(j({message:"Gifs Added",type:"success"}),x(e=>[...e,...g]),s(null)):j({message:"There was an error",type:"error"}),l.featured_gif||(await (0,o.AK)(l.id,{id:l.id,parent:l.parent,featured_gif:g[0].id.toString()}),y({...l,featured_gif:g[0]})),v(!1)},children:"Add Selected Gifs to Collection"}),(0,n.jsx)("div",{className:"animate-fade-in overflow-y-auto",children:(0,n.jsx)(ee.Grid,{fetchGifs:p,percentWidth:"100%",width:1040,columns:4,overlay:C,onGifClick:(e,t)=>{t.preventDefault(),t.stopPropagation(),g.includes(e)?f(g.filter(t=>t!==e)):f([...g,e])}})})]})}):null};let eY=e=>{let{className:t}=e,{user:l}=(0,h.useContext)(w.Z),{staffMode:a,setStaffMode:s}=(0,h.useContext)(X.WA);return(null==l?void 0:l.is_staff)?(0,n.jsxs)("div",{className:(0,i.cn)("group flex cursor-pointer items-center gap-2",t),onClick:()=>s(e=>!e),children:[(0,n.jsx)(eH.Z,{className:(0,i.cn)("size-3",a?"fill-giphyGreen group-hover:opacity-80":"fill-giphyLightCharcoal group-hover:fill-giphyLightestGrey")})," ",(0,n.jsx)("div",{className:(0,i.cn)("font-bold",a?"text-giphyGreen group-hover:opacity-80":"text-giphyLightCharcoal group-hover:text-giphyLightestGrey"),children:"Staff Mode"})]}):null};function eK(e){var t;let{gifId:l,children:a,channel:s}=e,{user:o}=(0,h.useContext)(w.Z),[c,d]=(0,h.useState)(null),[u,p]=(0,h.useState)([]);(0,h.useEffect)(()=>{null===c?u.length>0&&p([]):c!==u[u.length-1]&&p([...u,c])},[c,u]);let x=u[u.length-2],g=()=>{p(u.slice(0,-1)),d(x)};(0,h.useEffect)(()=>{(null==c?void 0:c.name)?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow=""},[null==c?void 0:c.name]);let[f,v]=(0,eU.Z)("openCollectionCabinet",!1);return(0,h.useEffect)(()=>{if(s){let e=!!(o&&(o.is_staff||o.username===s.user.username));f&&e&&(d({name:"editCollections",channelId:s.id,title:(0,n.jsx)(es.Oo,{channel:s})}),v(!1))}},[s,f,d,v,o]),(0,n.jsxs)(r.tC.Provider,{value:{modal:c,setModalType:d,goBack:g},children:[a,c?(0,n.jsx)(r.u_,{className:(0,i.cn)("transition-all duration-200 ease-in-out",function(e){let t="max-h-[1000px] max-w-desktopWidth";switch(null==e?void 0:e.name){case"createCollection":t="max-w-[512px]";break;case"addToCollection":t="max-w-[846px]";break;case"editCollection":t="max-w-[562px]";break;case"addGifsToCollection":t="w-desktopWidth max-h-[1200px] overflow-hidden";break;case"hireMe":case"derankUser":case"deactivateUser":t="md:w-[675px]"}return t}(c)),previousModalId:x,contentClassName:function(e){switch(null==e?void 0:e.name){case"hireMe":case"derankUser":case"deactivateUser":return"flex flex-1"}return""}(c),title:c.title||function(e){let t="";switch(null==e?void 0:e.name){case"addToCollection":t="Add To Collection";break;case"createCollection":t="Create Collection";break;case"editCollection":t="Edit Collection";break;case"addGifsToCollection":var l;t="Add GIFs to ".concat(null===(l=e.channel)||void 0===l?void 0:l.display_name);break;case"editCollections":t="Edit Collections"}return t}(c),goBack:g,onClose:()=>d(null),titleBarComponent:function(e){let t=null;switch(null==e?void 0:e.name){case"addToCollection":case"editCollections":t=(0,n.jsx)("div",{className:"pointer-events-auto absolute inset-0 -z-10 mr-8 flex flex-1 items-center justify-end",children:(0,n.jsx)(eY,{})})}return t}(c),children:"addToCollection"===c.name?(0,n.jsx)(ec,{gifId:l,channelId:c.channelId},"add-".concat(c.channelId)):"addGifsToCollection"===c.name?(0,n.jsx)(e$,{channelId:c.channelId,channel:c.channel}):"createCollection"===c.name?(0,n.jsx)(ev,{channelId:null===(t=c.channelId)||void 0===t?void 0:t.toString()}):"editCollections"===c.name?(0,n.jsx)(eA,{},c.channelId):"deactivateUser"===c.name?(0,n.jsx)(m,{}):"derankUser"===c.name?(0,n.jsx)(_,{}):"hireMe"===c.name?(0,n.jsx)(K,{}):"editCollection"===c.name?(0,n.jsx)(eF,{}):null}):null]})}},85202:function(e,t,l){var n=l(27573),i=l(5915),a=l(7653),s=l(57501),r=l(74158);t.Z=e=>{let{className:t,channel:l,height:o}=e,{setModalType:c}=(0,a.useContext)(s.tC),d=l.ancestors.length>0;return(0,n.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),c({name:"createCollection",channelId:l.id,title:'Create new collection in "'.concat(l.display_name,'"')})},className:(0,i.cn)(r.q8,"bg-giphyDarkCharcoal hover:border-giphyDarkCharcoal outline-2 outline-transparent",t),children:[(0,n.jsx)("div",{className:(0,i.cn)(r.MP,"absolute inset-0")}),(0,n.jsx)(r.Nx,{src:r.RK,width:"100%",height:o}),(0,n.jsx)(r.hu,{label:"New ".concat(d?"Sub-":"","Collection")})]})}},78294:function(e,t,l){var n=l(27573),i=l(89127),a=l(45874),s=l.n(a),r=l(5915);let o="border-t-giphyLightCharcoal hover:bg-giphyCharcoal cursor-pointer border-t-2 border-solid p-2";t.default=e=>{let{options:t,placeholder:l,className:a,...c}=e;return(0,n.jsxs)("div",{className:(0,r.cn)("relative w-[230px]",a),children:[(0,n.jsxs)("select",{className:(0,r.cn)("bg-giphyDarkGrey text-giphyWhite h-12 w-full cursor-pointer appearance-none p-3",s().className),...c,children:[(0,n.jsx)("option",{label:l,className:o,value:"",children:l}),t.map(e=>{let{label:t,value:l}=e;return(0,n.jsx)("option",{value:l||t,className:o,onClick:()=>{},children:t},"".concat(t))})]}),(0,n.jsx)("div",{className:"pointer-events-none absolute bottom-0 right-0 top-0 flex h-12 items-center justify-center",children:(0,n.jsx)(i.Z,{className:"fill-giphyBlue m-4 size-4"})})]})}},48286:function(e,t,l){l.d(t,{f:function(){return r}});var n=l(27573),i=l(7653);let a={panel:"none",setPanel:()=>{}},s=(e,t)=>({...e,panel:t.type}),r=(0,i.createContext)(a);t.default=e=>{let{children:t}=e,[l,o]=(0,i.useReducer)(s,a),c=(0,i.useCallback)(e=>{o({type:e})},[]);return(0,n.jsx)(r.Provider,{value:{...l,setPanel:c},children:t})}},61288:function(e,t,l){var n=l(27573),i=l(84390),a=l(7653),s=l(76957),r=l(8026);t.Z=e=>{let{children:t,label:l}=e,o=(0,a.useRef)((0,r.Ox)("overlay-channel")),{isOpen:c,listeners:d}=(0,s.lL)({color:i.nf,id:o.current,triggerType:"hover",width:150});return(0,n.jsxs)("div",{...d,children:[t,(0,n.jsx)(s.uH,{hoverMode:!0,isOpen:c,children:(0,n.jsx)("div",{className:"p-2 text-sm",children:l})})]})}},4741:function(e,t,l){var n=l(27573);t.Z=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 24 18",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8507 3.92084L9.36521 17.8648C9.24811 17.9437 9.14272 18 9.0022 18C8.86167 18 8.75628 17.9437 8.63918 17.8648L0.149305 9.68767C-0.0497682 9.50745 -0.0497682 9.18082 0.149305 9.0006L3.18078 5.94301C3.36814 5.7628 3.70773 5.7628 3.8951 5.94301L9.0022 10.6915L20.0075 0.13516C20.1948 -0.0450533 20.5344 -0.0450533 20.7218 0.13516L23.8507 3.23378C24.0498 3.41399 24.0498 3.74063 23.8507 3.92084Z"})})},82057:function(e,t,l){var n=l(27573);t.Z=e=>(0,n.jsx)("svg",{fill:e.color||"white",...e,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20C11.3607 20 12.6579 19.7363 13.8916 19.209C15.1253 18.6816 16.1882 17.972 17.0801 17.0801C17.972 16.1882 18.6816 15.1253 19.209 13.8916C19.7363 12.6579 20 11.3607 20 10C20 8.63932 19.7363 7.34212 19.209 6.1084C18.6816 4.87467 17.972 3.81185 17.0801 2.91992C16.1882 2.028 15.1253 1.31836 13.8916 0.791016C12.6579 0.263672 11.3607 0 10 0C8.63932 0 7.34049 0.263672 6.10352 0.791016C4.87305 1.31836 3.81185 2.028 2.91992 2.91992C2.028 3.81185 1.31836 4.87467 0.791016 6.1084C0.263672 7.34212 0 8.63932 0 10C0 11.3607 0.263672 12.6579 0.791016 13.8916C1.31836 15.1253 2.028 16.1882 2.91992 17.0801C3.81185 17.972 4.87467 18.6816 6.1084 19.209C7.34212 19.7363 8.63932 20 10 20ZM10 7.08008C9.53776 7.08008 9.14388 6.92057 8.81836 6.60156C8.49284 6.27604 8.33008 5.88216 8.33008 5.41992C8.33008 4.95768 8.49284 4.5638 8.81836 4.23828C9.14388 3.91276 9.53776 3.75 10 3.75C10.4622 3.75 10.8561 3.91276 11.1816 4.23828C11.5072 4.5638 11.6699 4.95768 11.6699 5.41992C11.6699 5.88216 11.5072 6.27441 11.1816 6.59668C10.8561 6.91894 10.4622 7.08008 10 7.08008ZM11.25 16.25H8.75V9.16992H11.25V16.25Z"})})},11628:function(e,t,l){var n=l(27573);t.Z=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6667 20C15.0347 20 15.349 19.8779 15.6094 19.6338C15.8698 19.3896 16 19.0951 16 18.75V10C16 9.65495 15.8698 9.36035 15.6094 9.11621C15.349 8.87207 15.0347 8.75 14.6667 8.75H13.3333V5C13.3333 4.32292 13.1927 3.67676 12.9115 3.06152C12.6302 2.44629 12.25 1.91406 11.7708 1.46484C11.2917 1.01562 10.724 0.659179 10.0677 0.395507C9.41146 0.131835 8.72222 0 8 0C7.27778 0 6.58854 0.131835 5.93229 0.395507C5.27604 0.659179 4.70833 1.01562 4.22917 1.46484C3.75 1.91406 3.36979 2.44629 3.08854 3.06152C2.80729 3.67676 2.66667 4.32292 2.66667 5V8.75H1.33333C0.965277 8.75 0.651042 8.87207 0.390625 9.11621C0.130208 9.36035 0 9.65495 0 10V18.75C0 19.0951 0.130208 19.3896 0.390625 19.6338C0.651042 19.8779 0.965277 20 1.33333 20H14.6667ZM10.6667 8.75H5.33333V5C5.33333 4.3099 5.59375 3.7207 6.11458 3.23242C6.63542 2.74414 7.26389 2.5 8 2.5C8.73611 2.5 9.36458 2.74414 9.88542 3.23242C10.4062 3.7207 10.6667 4.3099 10.6667 5V8.75Z"})})},89127:function(e,t,l){var n=l(27573);t.Z=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 20 12",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 3.00439C20 3.09224 19.961 3.18009 19.8829 3.26794L10.3075 11.8946C10.2229 11.9649 10.122 12 10.0049 12C9.88775 12 9.78689 11.9649 9.70229 11.8946L0.126892 3.26793C0.0422972 3.19766 -1.3587e-07 3.10835 -1.31134e-07 3C-1.26398e-07 2.89165 0.0422972 2.80234 0.126892 2.73206L3.04539 0.105417C3.12348 0.0351384 3.22271 -7.33359e-07 3.34309 -7.28096e-07C3.46348 -7.22834e-07 3.56271 0.0351385 3.6408 0.105417L10.0049 5.83309L16.369 0.105418C16.447 0.035139 16.5463 -1.50967e-07 16.6667 -1.45705e-07C16.7871 -1.40442e-07 16.8863 0.035139 16.9644 0.105418L19.8829 2.73206C19.961 2.81991 20 2.91069 20 3.00439Z"})})},71132:function(e,t,l){var n=l(27573);t.Z=e=>(0,n.jsx)("svg",{fill:e.color||"white",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5879 2.5C17.7029 2.5 17.8003 2.45931 17.8802 2.37793C17.9601 2.29655 18 2.19727 18 2.08008V0.419921C18 0.302734 17.9601 0.20345 17.8802 0.12207C17.8003 0.0406898 17.7029 0 17.5879 0H0.412141C0.297125 0 0.199681 0.0406898 0.119808 0.12207C0.0399361 0.20345 0 0.302734 0 0.419921V2.08008C0 2.19727 0.0399361 2.29655 0.119808 2.37793C0.199681 2.45931 0.297125 2.5 0.412141 2.5H17.5879ZM14.722 20C14.8243 20 14.9153 19.9642 14.9952 19.8926C15.0751 19.821 15.1214 19.7331 15.1342 19.6289L16.361 4.16992H1.63898L2.86581 19.6289C2.87859 19.7331 2.92492 19.821 3.00479 19.8926C3.08466 19.9642 3.17572 20 3.27796 20H14.722Z"})})},90478:function(e,t,l){var n=l(27573),i=l(4741),a=l(5915),s=l(8026);t.Z=e=>(0,n.jsx)("div",{className:"inline-flex items-center",children:(0,n.jsxs)("label",{className:"relative flex cursor-pointer items-center",children:[(0,n.jsx)("input",{type:"checkbox",className:(0,a.cn)("border-giphyLightCharcoal bg-giphyBlack checked:bg-giphyLightCharcoal peer m-0 size-5 cursor-pointer appearance-none rounded border-2 border-solid shadow transition-all hover:shadow-md",e.className),...(0,s.CE)(e,["className"])}),(0,n.jsx)("span",{className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform text-white opacity-0 peer-checked:opacity-100",children:(0,n.jsx)(i.Z,{className:"size-3"})})]})})},88438:function(e,t,l){l.d(t,{default:function(){return p}});var n=l(27573),i=l(48286),a=e=>{var t;let{gradientId:l="favorites-icon",...i}=e;return(0,n.jsxs)("svg",{viewBox:"0 0 22 20",xmlns:"http://www.w3.org/2000/svg",...i,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{x1:"0%",y1:"10%",x2:"0%",y2:"90%",id:l,children:[(0,n.jsx)("stop",{id:"gradient-stop-1",offset:"0%",stopColor:"var(--stop-color-1)"}),(0,n.jsx)("stop",{id:"gradient-stop-2",offset:"100%",stopColor:"var(--stop-color-2)"})]})}),(0,n.jsx)("path",{fill:(null===(t=i.className)||void 0===t?void 0:t.indexOf("--stop-color-1"))===-1?"":"url(#".concat(l,")"),fillRule:"evenodd",clipRule:"evenodd",d:"M18.9307 11.9353L11.3231 19.8661C11.2015 19.9554 11.0906 20 10.9904 20C10.8545 20 10.7436 19.9554 10.6578 19.8661L3.05013 11.9353C2.1631 11.0132 1.46386 10.0707 0.952383 9.10764C0.440911 8.14463 0.136893 7.22997 0.0403214 6.36364C-0.0562504 5.4973 0.0206483 4.6756 0.271019 3.8985C0.521391 3.1214 0.939862 2.43168 1.52645 1.82934C2.28471 1.04108 3.17352 0.507532 4.19289 0.228668C5.21225 -0.0501953 6.23161 -0.0501953 7.25098 0.228668C8.27034 0.507532 9.15915 1.04108 9.91741 1.82934C10.3395 2.26808 10.6971 2.76259 10.9904 3.31288C11.2837 2.76259 11.6414 2.26808 12.0634 1.82934C12.8217 1.03365 13.7105 0.494518 14.7299 0.211936C15.7493 -0.0706455 16.7704 -0.0706455 17.7933 0.211936C18.8163 0.494518 19.7105 1.03365 20.4759 1.82934C21.2556 2.6399 21.7385 3.5843 21.9244 4.66258C22.1104 5.74085 21.9531 6.91578 21.4523 8.1874C20.9516 9.45901 20.1111 10.7083 18.9307 11.9353Z"})]})},s=l(14789),r=l(57266),o=l(6928),c=l(5915),d=l(23733),u=l(7653),h=l(5794),p=e=>{let{gif:t,iconSize:l,className:p="",isFavorite:x,iconClassName:g,hideLabel:f}=e,{user:m}=(0,u.useContext)(o.Z),[v,j]=(0,h.Z)("hasSeenLocalFavoritesMessage",!1),{showMessage:C}=(0,u.useContext)(r.B),y=(0,s.k1)(),{setFavorites:b}=(0,u.useContext)(s.ZP),{setPanel:w}=(0,u.useContext)(i.f);(0,u.useEffect)(()=>{x&&b(e=>[...e,t.id])},[x,t.id,b]);let[N,k]=(0,u.useState)(void 0),_=void 0===N?x:N,[I,L]=(0,u.useState)("Favorite");return(0,u.useEffect)(()=>{let e;return N?(L("Favorited!"),e=setTimeout(()=>{L("Favorite")},2e3),w("favorited")):!1===N&&(e=setTimeout(()=>{L("Favorite")},2e3),L("Removed")),()=>clearTimeout(e)},[N,w]),(0,n.jsxs)("div",{className:p,onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),k(!_),await y(t.id))try{var l;(0,d.u2)({event:"favorite_success",options:{content:(0,d.DO)(t),creator:{...(0,d.F9)(t),user_is_creator:(null==m?void 0:m.id)===(null===(l=t.user)||void 0===l?void 0:l.id)}}})}catch(e){}m||v||(j(!0),C({message:"Favorite saved! You can access your favorites from the user menu."}))},children:[(0,n.jsx)(a,{gradientId:"".concat(t.id,"-favorite"),width:l,height:l,className:(0,c.cn)("[--stop-color-1:var(--giphy-white)] [--stop-color-2:var(--giphy-white)]",g,_&&"[--stop-color-1:var(--giphy-pink)] [--stop-color-2:var(--giphy-red)]","Removed"===I&&"[--stop-color-1:var(--giphy-white)]! [--stop-color-2:var(--giphy-white)]!")}),!f&&(0,n.jsx)("label",{className:(0,c.cn)("hidden md:block","text-lg font-bold","Removed"===I?"text-giphyWhite":"from-giphyRed to-giphyPink bg-clip-text group-hover:bg-linear-to-b group-hover:text-transparent"),children:I})]})}},17280:function(e,t,l){l.r(t),l.d(t,{default:function(){return V}});var n=l(27573),i=l(75050),a=l(29897),s=l(88438),r=l(11354),o=l(14789),c=l(6928),d=l(5915),u=l(1339),h=l(23733),p=l(81695),x=l(7653),g=l(5974),f=l(14683),m=l(13610);let v=g.ZP.div.withConfig({componentId:"sc-72a298f-0"})(["position:absolute;bottom:0;color:white;justify-content:flex-start;align-items:flex-end;font-size:12px;white-space:nowrap;padding:4px;overflow:hidden;width:100%;text-overflow:ellipsis;font-weight:bold;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 100%);opacity:",";transition:opacity 300ms;box-sizing:border-box;"],e=>e.isHovered?1:0),j=e=>{let{tag:t}=e;return(t=(0,f.Kx)(t))?(0,n.jsxs)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation();let l=(0,m.rg)(t);e.metaKey?window.open("".concat(location.origin).concat(l)):location.href=l},children:["#",t,"\xa0"]}):null};var C=e=>{let{gif:t,isHovered:l}=e;return(0,n.jsx)(v,{isHovered:l,children:t.tags.map(e=>(0,n.jsx)(j,{tag:e},e))})},y=l(75279);let b="link-icon";var w=e=>{var t;return(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{x1:"0%",y1:"10%",x2:"0%",y2:"90%",id:e.id||b,children:[(0,n.jsx)("stop",{id:"gradient-stop-1",offset:"0%",stopColor:"var(--stop-color-1)"}),(0,n.jsx)("stop",{id:"gradient-stop-2",offset:"100%",stopColor:"var(--stop-color-2)"})]})}),(0,n.jsx)("path",{fill:(null===(t=e.className)||void 0===t?void 0:t.indexOf("--stop-color-1"))===-1?"":"url(#".concat(e.id||b,")"),d:"M20.397 11.2546L17.5764 14.0751C17.674 13.0113 17.5374 11.9768 17.1665 10.9813L18.6402 9.47835C19.7724 8.33646 19.7724 6.49189 18.6402 5.35977C17.5081 4.22764 15.6635 4.22764 14.5217 5.35977L11.3986 8.45358C10.2664 9.61498 10.2664 11.44 11.3986 12.6014C11.9158 13.0797 11.9158 13.8702 11.3986 14.3582C10.9203 14.8462 10.1298 14.8462 9.64182 14.3582C7.54349 12.2306 7.54349 8.80493 9.64182 6.69684L12.7454 3.60303C14.873 1.46566 18.2986 1.46566 20.397 3.60303C22.5343 5.70135 22.5343 9.127 20.397 11.2546ZM14.3655 17.2958L11.2424 20.4189C9.13432 22.527 5.70867 22.527 3.58107 20.4189C1.47298 18.2913 1.47298 14.8657 3.58107 12.7576L6.43089 9.91753C6.33329 10.9813 6.46993 12.0451 6.8408 13.0406L5.36709 14.5143C4.23496 15.6562 4.23496 17.5008 5.36709 18.6329C6.49921 19.765 8.34378 19.765 9.48567 18.6329L12.5795 15.5391C13.7409 14.407 13.7409 12.5526 12.5795 11.4205C12.0915 10.9325 12.0915 10.1225 12.5795 9.6345C13.0675 9.14652 13.8775 9.14652 14.3655 9.6345C16.4638 11.7621 16.4638 15.1878 14.3655 17.2958Z"})]})},N=l(75952),k=l(57266),_=e=>{let{gif:t,isClip:l=!1}=e,{showMessage:i}=(0,x.useContext)(k.B),{url:a,images:{original:{url:s}}}=t,r=l?a:(0,m.O1)(s);return(0,n.jsx)(w,{className:"fill-giphyWhite size-5 transition-transform hover:scale-125",onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText(r),i({message:"Link copied to clipboard!",type:"success"}),(0,h.u2)({event:"share_success",options:{social:{socialChannel:"share"},content:(0,h.DO)(t,{rendition:N.i.Original,format:t.images.original.url}),creator:(0,h.F9)(t)}})}})},I=l(69103),L=l(82544),Z=e=>{let{gif:t,className:l}=e,{addToEdit:i}=(0,x.useContext)(L.WA);return(0,n.jsx)(I.Z,{className:(0,d.cn)("size-5 transition-transform hover:scale-110",l),onClick:e=>{e.stopPropagation(),e.preventDefault(),i(t.id)}})},S=l(11628),F=e=>{let{gif:t}=e;return t.is_hidden?(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex select-none items-center justify-center",children:(0,n.jsx)(S.Z,{className:"fill-giphyRed size-10"})}):null};let G=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"w-full h-full top-0 left-0 absolute",children:t})},T=e=>{let{tag:t}=e;return(0,n.jsxs)("a",{className:"bg-giphyBlack rounded-full h-9 leading-9 text-giphyGreen font-bold italic text-[15px] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-[18px] max-w-full whitespace-nowrap text-ellipsis overflow-hidden",onClick:e=>{e.preventDefault(),e.stopPropagation(),location.href="/edit/gifs?query="+encodeURIComponent(t)},children:["#",t]})},O=e=>{let{gif:t,isHovered:l}=e,i=(0,x.useRef)(l),s=(0,p.useRouter)();l&&(i.current=!0);let{user:o}=t;return o&&i.current?(0,n.jsxs)("div",{onClick:e=>{e.stopPropagation(),(0,h.u2)({event:"attribution_open_click",options:{content:(0,h.DO)(t),creator:(0,h.F9)(t)}}),s.push("/".concat(o.username))},className:(0,d.cn)("transition-opacity group ease-in",l?"opacity-100":"opacity-0"),children:[(0,n.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-[75px] cursor-default",style:{background:"linear-gradient(rgba(0, 0, 0, 0), rgba(18, 18, 18, 0.6))"}}),(0,n.jsxs)("div",{className:"absolute inset-x-2.5 bottom-2.5 flex gap-2",children:[(0,n.jsx)(a.Z,{user:o,size:32}),(0,n.jsx)(r.Z,{noLink:!0,user:o,className:"text-giphyWhite [&_svg]:fill-giphyWhite text-[16px] font-semibold group-hover:underline",alternateName:o.display_name})]})]}):null},D=e=>{let{colorClass:t}=e;return(0,n.jsx)("div",{className:"absolute h-[14px] w-[14px] top-2 left-2 rounded-full ".concat(t)})};var V=e=>{let{isHovered:t,gif:l,width:a}=e,{user:r}=(0,x.useContext)(c.Z),h=(0,o.xL)(t?l.id:void 0),g=(0,p.usePathname)(),f=(0,y.e$)(),m=Array.isArray(l.gps_tags)&&l.gps_tags.length>0&&"string"==typeof l.gps_tags[0],v=null;return Array.isArray(l.tags)&&(l.tags.includes("giphytrending")?v=(0,n.jsx)(D,{colorClass:"bg-giphyGreen"}):l.tags.includes("giphytrendingqueue")?v=(0,n.jsx)(D,{colorClass:"bg-blue-500"}):l.tags.includes("giphytrendingschedule")&&(v=(0,n.jsx)(D,{colorClass:"bg-yellow-400"}))),f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F,{gif:l}),(0,n.jsx)(i.D,{isHovered:t,gif:l,width:a})]}):(0,n.jsxs)(n.Fragment,{children:[!t&&v,t&&m?(0,n.jsx)(G,{children:l.gps_tags&&(0,n.jsx)(T,{tag:l.gps_tags[0]})}):t&&(0,n.jsxs)("div",{className:"bg-giphyBlack/10 absolute right-2.5 top-2.5 flex items-center gap-3 rounded-md p-2",children:[r&&(0,u.J5)(r,l)&&(0,n.jsx)(Z,{gif:l}),(0,n.jsx)(s.default,{hideLabel:!0,gif:l,className:(0,d.cn)("fill-giphyWhite size-5 opacity-5 duration-300 ease-in-out",(void 0!==h||!r)&&"opacity-100"),iconClassName:"hover:scale-110 transition-all",isFavorite:!!h}),(0,n.jsx)(_,{gif:l})]}),l.user&&0!==g.indexOf("/".concat(l.user.username))?(0,n.jsx)(O,{gif:l,width:a,isHovered:t}):(0,n.jsx)(C,{gif:l,isHovered:t,width:a}),(0,n.jsx)(F,{gif:l})]})}},17676:function(e,t,l){var n=l(27573),i=l(5915),a=l(88146),s=l(7653),r=l(46873);t.Z=e=>{let{className:t,options:l,onClick:o,index:c,onTransitionEnd:d}=e,[u,h]=(0,s.useState)(c),p=(0,s.useRef)(!1);(0,s.useEffect)(()=>{p.current||c===u||h(c)},[u,c,h]);let x="".concat(1/l.length*100,"%"),g="".concat(u/l.length*100,"%");return(0,n.jsx)("div",{className:(0,i.cn)("bg-gradient-grey text-giphyWhite relative flex justify-between rounded-3xl font-bold",t),children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:(0,i.cn)("duration-250 absolute left-0 h-full rounded-[inherit] transition-all",l[c].gradientClassName||["bg-gradient-primary","bg-gradient-secondary","bg-gradient-tertiary"][u%l.length]),onTransitionEnd:()=>{null==d||d(u),p.current=!1},style:{width:x,left:g}}),l.map((e,t)=>{let l=()=>{u!==t&&(p.current=!0,h(t),null==o||o(t))},i=(0,n.jsxs)(n.Fragment,{children:[e.icon&&(0,n.jsx)(r.Z,{inverted:!0,icon:e.icon}),e.label]});return e.href?(0,n.jsx)(a.default,{replace:!0,onClick:l,className:"relative flex cursor-pointer items-center justify-center gap-1 rounded-3xl p-2 text-center text-inherit",style:{width:x},href:e.href,children:i},t):(0,n.jsx)("button",{onClick:l,className:"relative flex cursor-pointer items-center justify-center gap-1 rounded-3xl p-2 text-inherit",type:"button",style:{width:x},children:i},t)})]})})}},1339:function(e,t,l){l.d(t,{J5:function(){return i},Rn:function(){return a}}),l(31489);let n=e=>(null==e?void 0:e.user_type)==="artist"||(null==e?void 0:e.user_type)==="partner",i=(e,t)=>null!=e&&!!e.is_staff||s(t,e),a=(e,t)=>null!=e&&!!e.is_staff||n(e)&&s(t,e);function s(e,t){var l;return!!t&&!!e&&(null==e?void 0:null===(l=e.user)||void 0===l?void 0:l.id)===(null==t?void 0:t.id)}},77233:function(e,t,l){l.d(t,{Do:function(){return a},EB:function(){return n},ZF:function(){return i}});let n=e=>{let t="";return e.details&&e.details.code?[e.details.code]:e.detail?[e.detail]:("object"==typeof(Object.keys(e).length>0&&e[Object.keys(e)[0]][0])?Object.entries(e).reduce((e,t)=>{let[,l]=t;return e+l.reduce((e,t)=>e+t.detail+"\n","")},""):Object.entries(e).reduce((e,t)=>{let[,l]=t;return e+l.join("\n")+"\n"},"")).split("\n").slice(0,-1)},i=e=>e.detail||e.details?["non-field error"]:Object.keys(e),a=(e,t)=>{if(void 0===t)return;let l=t.split(";");for(let t=0;t<l.length;t++){let n=l[t].trim();if(n.startsWith(e+"="))return n.substring(e.length+1)}}},75952:function(e,t,l){l.d(t,{i:function(){return n}});let n={Small:"downsized",Social:"downsized_large",Original:"original",OriginalStill:"original_still",MP4:"original_mp4"}}}]);
//# sourceMappingURL=2068-6f5ea211bd2e9e5e.js.map